4 1⁄2 cups all-purpose flour
2 teaspoons baking soda
2 cups butter, softened
1 1⁄2 cups brown sugar, packed
1⁄2 cup white sugar
2 (3 1/2 ounce) packages vanilla instant pudding mix
4 eggs
2 teaspoons vanilla extract
4 cups semi-sweet chocolate chips
2 cups walnuts (optional)