Preheat the oven to 350 degrees. Line two baking sheets with parchment paper or Silpat. Sift together the flour, baking powder, baking soda and salt.
In a mixer fitted with a paddle, cream the butter and sugars until fluffy, 3 minutes. Add the eggs, one at a time, then the vanilla. Add the flour mixture all at once and blend until a dough forms. Fold in the chocolate and walnuts. Chill the dough for at least an hour.
Roll 1/4 -cup lumps of dough into balls, then place on the baking sheet and flatten to 1/2 -inch-thick disks spaced 2 inches apart. Chill the dough between batches. Bake until the edges turn golden, 14 to 17 minutes. Let cool slightly on the baking sheet, then transfer to a baking rack.